### Задача 4: Поиск самого быстрого сервера для загрузки

### Решение задачи

```javascript
// Задача 4: Поиск самого быстрого сервера с Promise.race()

// 1. Функции, имитирующие запросы к серверам со случайной задержкой
function queryServer(serverName, minDelay = 500, maxDelay = 1500) {
  return new Promise(resolve => {
    const delay = Math.random() * (maxDelay - minDelay) + minDelay;
    setTimeout(() => {
      console.log(`${serverName} ответил через ${delay.toFixed(0)} мс`);
      resolve(`Ответ от ${serverName}`);
    }, delay);
  });
}

// 4. Начало поиска
console.log("Ищем самый быстрый сервер...");

// Массив промисов-запросов
const promises = [
  queryServer("Сервер 1"),
  queryServer("Сервер 2"),
  queryServer("Сервер 3")
];

// 2. Используем Promise.race для определения самого быстрого
Promise.race(promises)
  .then(fastestResult => {
    // 3. Этот код выполнится, как только ПЕРВЫЙ промис завершится
    console.log("---------------------------");
    console.log(`Самый быстрый результат: ${fastestResult}`);
    console.log("Используем этот сервер для загрузки!");
  })
  .catch(error => {
    // Обработка возможной ошибки (если бы какой-то промис отклонился первым)
    console.error("Ошибка при запросе к серверам:", error);
  });

// Ожидаемый порядок вывода (примерный, т.к. задержки случайны):
// 1. Ищем самый быстрый сервер...
// 2. (через X мс) Сервер Y ответил через X мс  <- Сообщение от самого быстрого сервера
// 3. ---------------------------
// 4. Самый быстрый результат: Ответ от Сервер Y
// 5. Используем этот сервер для загрузки!
// 6. (позже) Сервер Z ответил через ... мс     <- Сообщения от остальных серверов (их результаты игнорируются Promise.race)
// 7. (еще позже) Сервер W ответил через ... мс

```
